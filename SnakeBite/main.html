<!DOCTYPE html>
<html>
<head>
	<title>Snake Bite Game</title>
	<style type="text/css">
		canvas {
			border: 1px black solid;
		}
	</style>
</head>
<body>


<script type="text/javascript">
	var COLS = 20, ROWS = 20;
	var EMPTY = 0, SNAKE = 1, FOOD = 2;

	var grid = {
		width: null,
		height: null,
		_grid: null,

		init: function(c,r,d) {
			width = c;
			height = r;
			_grid = [];
			for (var i = 0; i < c.length; i++) {
				_grid.push(i);
				for (var j = 0; j < r.length; j++) {
					_grid[i][j] = d;
				}
			}
		},
		set: function(x,y,val) {
			_grid[x][y] = val;
		},

		get: function(x,y) {
			return _grid[x][y];
		}
	}

	function food(x, y) {
		var empty = [];
		for (var x = 0; x < grid.width; x++) {
			for (var y = 0; y < grid.height; y++) {
				if(grid.get(x,y) == EMPTY ) {
					empty.push({x:x, y:y});
				}
			}
		}
		var randpos = empty[Math.floor(Math.random()*empty.length)];
		grid.insert(x,y,FOOD);
	}

	// reload animation while 1s
	var frames = 0, canvas, ctx;
	function loop() {
		update();
		draw();

		window.requestAnimationFrame(loop);
	}

	function main() {
		canvas = document.createElement("canvas");
		canvas.width = COLS * 20;
		canvas.height = ROWS * 20;
		ctx = canvas.getContext("2d");
		document.body.append(canvas);

		frames = 0;
		loop();
	}

	function draw() {
		// grid 정의 
		grid.init(COLS, ROWS, 0);
		Math.floor(Math.random() * (COLS*20 - min)) + min;
		food(x,y)
	}

	function update() {
		frames++;
	}
	main();

</script>
</body>
</html>

<!-- 
게임

grid
snake
food


grid {
	width
	height
	_grid

	get :
	init :
	insert :
}

snake {
	x
	y
	_stack

	get :
	set :
	init :
}

food : set init

뱀 움직이기
뱀 초기화

 -->